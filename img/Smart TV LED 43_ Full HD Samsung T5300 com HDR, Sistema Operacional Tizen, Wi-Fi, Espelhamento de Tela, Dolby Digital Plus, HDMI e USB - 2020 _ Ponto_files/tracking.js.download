!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e,n){"use strict";(function(t){var r=n(2),o=setTimeout;function i(){}function c(t){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(t,this)}function s(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,c._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void u(e.promise,t)}a(e.promise,r)}else(1===t._state?a:u)(e.promise,t._value)})):t._deferreds.push(e)}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof c)return t._state=3,t._value=e,void l(t);if("function"==typeof n)return void p((r=n,o=e,function(){r.apply(o,arguments)}),t)}t._state=1,t._value=e,l(t)}catch(e){u(t,e)}var r,o}function u(t,e){t._state=2,t._value=e,l(t)}function l(t){2===t._state&&0===t._deferreds.length&&c._immediateFn(function(){t._handled||c._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)s(t,t._deferreds[e]);t._deferreds=null}function f(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function p(t,e){var n=!1;try{t(function(t){n||(n=!0,a(e,t))},function(t){n||(n=!0,u(e,t))})}catch(t){if(n)return;n=!0,u(e,t)}}c.prototype.catch=function(t){return this.then(null,t)},c.prototype.then=function(t,e){var n=new this.constructor(i);return s(this,new f(t,e,n)),n},c.prototype.finally=r.a,c.all=function(t){return new c(function(e,n){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var o=r.length;function i(t,c){try{if(c&&("object"==typeof c||"function"==typeof c)){var s=c.then;if("function"==typeof s)return void s.call(c,function(e){i(t,e)},n)}r[t]=c,0==--o&&e(r)}catch(t){n(t)}}for(var c=0;c<r.length;c++)i(c,r[c])})},c.resolve=function(t){return t&&"object"==typeof t&&t.constructor===c?t:new c(function(e){e(t)})},c.reject=function(t){return new c(function(e,n){n(t)})},c.race=function(t){return new c(function(e,n){for(var r=0,o=t.length;r<o;r++)t[r].then(e,n)})},c._immediateFn="function"==typeof t&&function(e){t(e)}||function(t){o(t,0)},c._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},e.a=c}).call(this,n(3).setImmediate)},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";e.a=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})}},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(4),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(1))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,o,i,c,s,a=1,u={},l=!1,f=t.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(t);p=p&&p.setTimeout?p:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){m(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((i=new MessageChannel).port1.onmessage=function(t){m(t.data)},r=function(t){i.port2.postMessage(t)}):f&&"onreadystatechange"in f.createElement("script")?(o=f.documentElement,r=function(t){var e=f.createElement("script");e.onreadystatechange=function(){m(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):r=function(t){setTimeout(m,0,t)}:(c="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(c)&&m(+e.data.slice(c.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),r=function(e){t.postMessage(c+e,"*")}),p.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return u[a]=o,r(a),a++},p.clearImmediate=d}function d(t){delete u[t]}function m(t){if(l)setTimeout(m,0,t);else{var e=u[t];if(e){l=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{d(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(1),n(5))},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:c}catch(t){r=c}}();var a,u=[],l=!1,f=-1;function p(){l&&a&&(l=!1,a.length?u=a.concat(u):f=-1,u.length&&d())}function d(){if(!l){var t=s(p);l=!0;for(var e=u.length;e;){for(a=u,u=[];++f<e;)a&&a[f].run();f=-1,e=u.length}a=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===c||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function h(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new m(t,e)),1!==u.length||l||s(d)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";n.r(e);var r=n(0);const o=function(t){return new r.a(function(e,n){try{return e(JSON.stringify(t))}catch(t){return n(t)}})},i=function(t){return o({label:t}).catch(function(t){return console.error({msg:"failed to parse detail",error:t}),r.a.resolve()})},c=function(t,e){if("function"==typeof window.CustomEvent)return new window.CustomEvent(t,{detail:e});return new(function(){function t(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles||!1,e.cancelable||!1,e.detail||null),n}return t.prototype=window.Event.prototype,t}())(t,{detail:e})},s=function(t,e,n){const r=function(t){return/^linximpulse./.test(t)?t:"linximpulse."+t}(e),o=void 0!==n?c(r,n):function(t){if("function"==typeof window.Event)return new window.Event(t);const e=document.createEvent("Event");return e.initEvent(t,!0,!0),e}(r);return t.dispatchEvent(o)},a=function(t){const e=function(t){return{stg:"Staging",hml:"Homologation",dev:"Development"}[t]}(t);if(!e)return;const n=document.body,r=document.createElement("a");r.innerHTML=["<span> Warning: You are evaluating Impulse Suite on ",e," environment. Click here to go back to Production!</span>"].join(""),r.style=["position: fixed;","bottom: 0;","padding: 5px 0;","width: 100%;","background-color: purple;","color: white;","text-align: center;","font-size: 18px;","cursor: pointer;","z-index: 999999999;"].join(""),r.addEventListener("click",function(t){t.preventDefault(),function(){try{window.sessionStorage.removeItem("impulseSuiteEnv"),window.location.search=window.location.search.replace(/(impulseSuiteEnv=[A-z]{3})/,"")}catch(t){console.warn("Unable to access localStorage!")}}()});const o="Warning: You are evaluating Impulse Suite on "+e+" environment";if(d())return console.warn(o);try{n.insertBefore(r,n.firstChild)}catch(t){console.warn(o)}},u=function(t){return{prd:"suite.linximpulse.net",stg:"suite.staging.linximpulse.net",hml:"suite.homolog.linximpulse.net",dev:"suite.development.linximpulse.net:8080"}[t.toLowerCase()]},l=function(){try{return window.sessionStorage.getItem("impulseSuiteEnv")||"prd"}catch(t){return console.warn("Unable to access localStorage!"),"prd"}},f=function(){try{const t=function(){const t=RegExp(/impulseSuiteEnv=([A-z]{3})/),e=window.location.search.match(t);return e&&e[1]}();t&&window.sessionStorage.setItem("impulseSuiteEnv",t)}catch(t){console.warn("Unable to access localStorage!")}},p=function(t){if(t)return a(t),u(t);const e=l();return a(e),u(e)},d=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)};function m(t){window.linxImpulse.config.customEventSource=t}const h=function(t,e,n){const r="//"+p(t)+"/impulse";return e?r+"/"+e+"/"+n:r+"/"+n},v=function(t,e){return new r.a(function(n,r){const o=function(t,e){return"//"+p(t)+"/impulse/"+e+"/flags.json"}(e,t),i=new window.XMLHttpRequest,c=function(){return r(Error("Failed to retrieve integration flags: "+i.statusText))};i.addEventListener("load",function(){try{return n(JSON.parse(i.responseText))}catch(t){return r(t)}}),i.addEventListener("error",c),i.addEventListener("abort",c),i.open("GET",o),i.send()}).catch(function(e){return"dev"===l()?v(t,"prd"):r.a.reject(e)})},g=function(t,e,n){return new r.a(function(r,o){const i=document.createElement("script");if(i.type="text/javascript",i.src=t,e)for(let t in e)i.setAttribute(t,e[t]);i.onload=function(){return r()},i.onerror=function(){return o(Error("Failed to load script from: "+t))},n?n.parentElement.insertBefore(i,n):document.head.appendChild(i)})},w=function(t){const e=h(t.env,t.apiKey,t.scriptName);return g(e,t.attrs).catch(function(e){if("dev"===l()){const e=h("prd",t.apiKey,t.scriptName);return g(e,t.attrs,t.ref)}return r.a.reject(e)})};const y=function(t,e){if(!t||!t.enabled)return;if(!t.stAccount)throw Error("The flag shopback.stAccount is required");const n=parseInt(t.stAccount);window._st_account=Number.isNaN(n)?t.stAccount:n;const o=[],i={async:!0,defer:!0,"data-client":String(window._st_account)+"79e8ae63ac10bad9b6c6b8290ffd3ae5".substr(0,24-String(window._st_account).length)},c=[],s=function(t){if(c.indexOf(t.src)>-1)return;o.push(g(t.src,t.attrs||{async:!0,defer:!0},e)),c.push(t.src)},a=function(){window.cv_data=window._cv_data,s({src:"https://static.shopback.net/shopconvert/js/conversion/v1.js"})};return t.shopConvertEnabled&&(window._acc=t.shopConvertId,s({src:"https://app.shoptarget.com.br/js/collect_sbk.js"}),s({src:"https://static.shopback.net/tags/init.js",attrs:i}),s({src:"https://static.shopback.net/shopconvert/js/impression/v1.js"}),"object"==typeof window._cv_data?a():window.linxImpulse.impulseTag.addEventListener("shopconvert.beforeconversion",a,{once:!0})),t.shopAdsEnabled&&s({src:"https://poscompra.shopconvert.com.br/js/cm.js"}),t.shopPushEnabled&&(s({src:"https://app.shoptarget.com.br/js/collect_sbk.js"}),s({src:"https://static.shopback.net/tags/init.js",attrs:i})),t.shopTargetEnabled&&s({src:"https://app.shoptarget.com.br/js/collect_sbk.js"}),c.length>0?r.a.all(o):g("https://app.shoptarget.com.br/js/reengage_legacy.js",{async:!0,defer:!0,stAccount:t.stAccount},e)},b=function(t,e){if(!t||!t.enabled)return;const n="https://static.percycle.com/"+t.publisherId,r=n+"/g.js",o=n+"/c.js";t.spa&&window.linxImpulse.impulseTag.addEventListener("linximpulse.onmeta",function(){"transaction"===window.linxImpulse.meta.page&&g(o,{async:!0,defer:!0},e)});const i=window.linxImpulse.meta.page;return g("transaction"===i?o:r,{async:!0,defer:!0},e)},_=function(t,e,n,r){if(!t||!t.enabled)return;const o={async:!0,defer:!0,"data-apikey":t.apiKey||n};return g("https://static.chaordicsystems.com/static/loader.js",o,r)},j=function(t,e,n){if(!("object"==typeof t?t.enabled:t))return;const r="//"+p()+"/impulse/"+e+"/autocomplete/linx-impulse-autocomplete.min.js";return g(r,{async:!0,defer:!0,charset:"UTF-8"},n)},E=function(t,e,n){const r=window.location.href.replace(window.location.protocol,"");if(!t||!t.enabled||!r.match(new RegExp(t.url)))return;window.linxImpulse.config.lazyEvents=!0;const o="//"+p()+"/impulse/"+e+"/search/linx-impulse-search.min.js";return g(o,{async:!0,charset:"UTF-8"},n)},T=function(t,e){var n,r;if("object"==typeof t?t.enabled:t)return g((n=l(),r=!window.customElements,"//static-banner.chaordicsystems.com/banner"+("stg"===(n||"prd")?"/stg/":"/")+(r?"banner-legacy.js":"banner.js")),{async:!0,defer:!0,charset:"UTF-8"},e)},x=function(t,e){if(!t||!t.enabled)return;if("lite"!==t.plan)return;return g("//suite.linximpulse.net/impulse/engage/onsite/onsite.js",{async:!0},e)},I=function(t,e,n){if(!t)return;return g("//scripts.neemu.com/"+e+"/neemu_plugin.js",{async:!0,defer:!0},n)},S=function(t,e,n){if(!("object"==typeof t?t.enabled:t))return;const r="//"+p()+"/impulse/"+e+"/wishlist/js/wishlist.js";return g(r,{async:!0,charset:"UTF-8"},n)},k=function(t){const e=t.map(function(t){return t.script.then(function(){return{status:"resolved"}}).catch(function(e){return{status:"rejected",id:t.id,message:e.message}})});return r.a.all(e)},A=function(){const t=window._st_account;return t?function(t){return new r.a(function(e,n){const r="https://app.shoptarget.com.br/impulse_api/is_impulse/"+t,o=new window.XMLHttpRequest,i=function(){return n(Error("Failed to retrieve apiKey: "+o.statusText))};o.addEventListener("load",function(){try{return e(JSON.parse(o.responseText))}catch(t){return n(t)}}),o.addEventListener("error",i),o.addEventListener("abort",i),o.open("GET",r),o.send()}).catch(function(t){return r.a.reject(t)})}(t).then(function(t){const e=t.apikey,n=t.is_impulse;if(e&&n)return e}):r.a.resolve()},L=function(t){return A().then(function(e){return e||function(t){return g("https://app.shoptarget.com.br/js/reengage_legacy.js",{async:!0,defer:!0},t)}(t)})},F=function(t){const e={apiKey:window.linxImpulse.config.apiKey,timers:{}};t.integration.finishedAt=Date.now();for(let n in t){const r=t[n];r.took=r.finishedAt-r.startedAt,e.timers[n]=r.took||null}window.linxImpulse.loadingTimes=t,"stg"===l()&&function(t){try{if(window.sessionStorage.getItem("impulseSuiteEnv"))return console.info(t),r.a.resolve()}catch(t){}o(t).catch(function(t){return console.error({msg:"failed to parse detail",error:t}),r.a.resolve()})}(e)},O=l(),M=function(t,e,n){if("stg"===O)return function(t){try{if(window.sessionStorage.getItem("impulseSuiteEnv"))return console.error(t),r.a.resolve()}catch(t){}return o(t).catch(function(t){return console.error({msg:"failed to parse detail",error:t}),r.a.resolve()})}({tag:t,apiKey:e,href:window.location.href,message:n})},P=function(t,e){return t.then(function(t){return t.filter(function(t){return"rejected"===t}).map(function(t){return M(t.id,e,t.message)})})},C=function(t,e,n){const r=function(t,e,n){const r=[{id:"script-autocomplete",script:j(e.autocomplete,t,n)},{id:"script-search",script:E(e.search,t,n)}].filter(function(t){return void 0!==t.script});return k(r)}(t,e,n);return P(r,t)},N=function(t,e,n){const r=function(t,e,n){const r=[{id:"script-shopback",script:y(e.shopback,n)},{id:"script-percycle",script:b(e.percycle,n)},{id:"script-chaordic",script:_(e.chaordic,e.platformProvider,t,n)},{id:"script-legacy-autocomplete",script:I(e.legacyAutocomplete,t,n)},{id:"script-banner",script:T(e.banner,n)},{id:"script-onsite",script:x(e.onsite,n)},{id:"script-wishlist",script:S(e.wishlist,t,n)}].filter(function(t){return void 0!==t.script});return k(r)}(t,e,n);return P(r,t)},K=function(t,e,n){const r=function(t,e){const n=[{id:"script-shopback",script:y(t.shopback,e)}].filter(function(t){return void 0!==t.script});return k(n)}(e,n);return P(r,t)},R=function(t,e,n){t.addEventListener("linximpulse.onmeta",function(){return N(e,n,t)},{once:!0}),t.addEventListener("linximpulse.onsession",function(){return function(t,e){return w({scriptName:"metadata.js",apiKey:t,ref:e}).catch(function(e){return M("script-scrapping",t,e.message)})}(e,t)}),t.addEventListener("linximpulse.error",function(r){r.detail&&"scrapper"===r.detail.tag&&K(e,n,t),M(r.detail.tag,e,r.detail.message)}),t.addEventListener("linximpulse.onmetadata",function(){return N(e,n,t)},{once:!0}),t.addEventListener("error",function(t){return M(t.detail.tag,e,t.detail.message)})},q=function(t,e){if(!window.linxImpulseInitialized)return window.linxImpulseInitialized=!0,v(e).then(function(n){n.enabled&&(!function(t,e,n){const r=t.dataset.onDemandEvents&&"true"===t.dataset.onDemandEvents;window.linxImpulse={impulseTag:t,createEvent:function(e,n){return s(t,e,n)},meta:{},config:{apiKey:n,integrationFlags:e,lazyEvents:r},isMobile:d,setCustomEventSource:m},"stg"===O&&(window.linxImpulse={...window.linxImpulse,sendCounter:i})}(t,n,e),R(t,e,n),function(t,e){w({scriptName:"session.js",ref:e}).catch(function(e){return M("script-session",t,e.message)})}(e,t),function(t,e){w({scriptName:"collection.js",ref:e}).catch(function(e){return M("script-collection",t,e.message)})}(e,t),C(e,n,t))}).catch(function(t){return M("loader",e,t.message)})};!function(){if(i("experiment_impulsejs_tp"),document.querySelectorAll('script[src*="impulse.js"][data-apikey]').length>1)return;const t=function(){const t=['script[src*="app.shoptarget.com.br/js/tracking.js"]','script[src*="static.sback.tech/shoptarget/js/tracking.js"]'].join(","),e=document.querySelector('script[src*="impulse.js"][data-apikey]'),n=document.querySelector(t);if(e||n)return e||n;console.warn("Linx Impulse Suite: misconfigured script tag!")}();if(!t)return;const e=t.getAttribute("data-apikey");if(f(),!e&&!function(){const t=document.querySelector('script[src*="impulse.js"][data-apikey]'),e=document.querySelector('script[src*="app.shoptarget.com.br/js/tracking.js"]');return t&&!e}())return function(t){return L(t)}(t).then(function(e){e&&q(t,e)}).catch(function(){i("experiment_failed_load_metamorph")});!function(t){const e=["session","collection","scraping"];let n=e.length;const r={integration:{startedAt:Date.now()}};e.forEach(function(e){const o=r[e]={};t.addEventListener("linximpulse.onstart.module."+e,function(){o.startedAt=Date.now()},{once:!0}),t.addEventListener("linximpulse.onfinish.module."+e,function(){o.finishedAt=Date.now(),"collection"!==e||r.scraping.startedAt||(n=0,F(r)),0==--n&&F(r)},{once:!0})})}(t),i("experiment_native_impulsejs_tp"),q(t,e)}()}]);